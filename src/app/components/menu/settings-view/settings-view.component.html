<div class="settingsGrid">
    <div class="settings">
        <span class="s4Heading smallCaps bold">Settings</span>
        <br />
        <br />
        <div class="twoColumn">
            <span class="smallCaps bold">story speed</span>
            <br />
            <mat-button-toggle-group [(ngModel)]="storyStyle" aria-label="Story Style" (change)="setStoryStyle()">
                <mat-button-toggle customToolTip [contentTemplate]="storyStylePausePopover" [tooltipDirection] = "tooltipDirection"
                    [value]="storyStyleEnum.Pause">Pause</mat-button-toggle>
                <mat-button-toggle [value]="storyStyleEnum.Slow">Slow</mat-button-toggle>
                <mat-button-toggle [value]="storyStyleEnum.Medium">Medium</mat-button-toggle>
                <mat-button-toggle [value]="storyStyleEnum.Fast">Fast</mat-button-toggle>
                <mat-button-toggle [value]="storyStyleEnum.Skip">Skip</mat-button-toggle>
            </mat-button-toggle-group>
        </div>
        <div class="twoColumn">
            <span class="smallCaps bold">tooltip color theme</span>
            <br />
            <mat-button-toggle-group [(ngModel)]="tooltipTheme" aria-label="Tooltip Theme" (change)="setTooltipTheme()">
                <mat-button-toggle [value]="true">Dark</mat-button-toggle>
                <mat-button-toggle [value]="false">Light</mat-button-toggle>
            </mat-button-toggle-group>
        </div>
        <br *ngIf="isMobile" />
        <span *ngIf="isMobile">
            <mat-checkbox class="example-margin" [(ngModel)]="quickViewOverlayFlipped"
                (input)="quickViewOverlayFlippedToggle()">Flip Quick Link Area
            </mat-checkbox>
        </span>
        <br />
        <span>
            <mat-checkbox class="example-margin" [(ngModel)]="showPartyHpAsPercent"
                (input)="showPartyHpAsPercentToggle()">Show Party HP As Percent
            </mat-checkbox>
        </span>
        <br />
        <span>
            <mat-checkbox class="example-margin" [(ngModel)]="showEnemyHpAsPercent"
                (input)="showEnemyHpAsPercentToggle()">Show Enemy HP As Percent
            </mat-checkbox>
        </span>
        <br />
        <span>
            <mat-checkbox class="example-margin" [(ngModel)]="autoExportOnUpdate"
                (input)="autoExportOnUpdateToggle()">Automatically Export Data When Updating
            </mat-checkbox>
        </span> 
        <br />
        <span>
            <mat-checkbox class="example-margin" [(ngModel)]="showTutorialsAsModals"
                (input)="showTutorialsAsModalsToggle()">Show Tutorials As Modals
            </mat-checkbox>
        </span> 
        <br />
        <span>
            <mat-checkbox class="example-margin" [(ngModel)]="verboseMode" customToolTip [contentTemplate]="verboseModePopover" [tooltipDirection] = "tooltipDirection"
                (input)="verboseModeToggle()">Verbose Mode
            </mat-checkbox>
        </span> 
        <br />
        <span>
            <mat-checkbox class="example-margin" [(ngModel)]="showGameLogTimeStamps"
                (input)="showGameLogTimeStampsToggle()">Show Game Log Time Stamps
            </mat-checkbox>
        </span>        
        <br *ngIf="duoAbilitiesAvailable()" />
        <span *ngIf="duoAbilitiesAvailable()">
            <mat-checkbox class="example-margin" [(ngModel)]="showDuoAbilityProgressBars"
                (input)="showDuoAbilityProgressBarsToggle()">Show Duo Ability Progress Bar
            </mat-checkbox>
        </span> 
        <br />
        <span>
            <mat-checkbox class="example-margin" [(ngModel)]="showBigNumberColors" customToolTip [contentTemplate]="bigNumberPopover" [tooltipDirection] = "tooltipDirection"
                (input)="showBigNumberColorsToggle()">Show Big Number Colors
            </mat-checkbox>
        </span> 
        <br />
        <span>
            <mat-checkbox class="example-margin" [(ngModel)]="showPauseMessage" customToolTip [contentTemplate]="showPauseMessagePopover" [tooltipDirection] = "tooltipDirection"
                (input)="showPauseMessageToggle()">Show Pause Message
            </mat-checkbox>
        </span> 
        <br />
        <span>
            <mat-checkbox *ngIf="fps === utilityService.lowFps" class="example-margin" [(ngModel)]="showAbilityCooldownPercents" customToolTip [contentTemplate]="showAbilityCooldownPercentsPopover" [tooltipDirection] = "tooltipDirection"
                (input)="showAbilityCooldownPercentsToggle()">Show Ability Cooldown Percents
            </mat-checkbox>
        </span> 
        <br />
        <!--<span>
            <mat-checkbox *ngIf="fps === utilityService.lowFps" class="example-margin" [(ngModel)]="showLowPerformanceAnimationFlash" customToolTip [contentTemplate]="abilityFlashPopover"
                (input)="showLowPerformanceAnimationFlashToggle()">Show Ability Use Flash
            </mat-checkbox>
        </span> 
        <br />-->
        <br />
        <div>
            <div *ngIf="!isMobile" class="updateKeybinds twoColumn">
                <button class="buttonStyled" (click)="openKeybinds(keybindContent)">Update Keybinds</button>
            </div>            
            <div class="updateKeybinds twoColumn">
                <button class="buttonStyled" (click)="openQuickViewOptions(quickViewOptionsContent)">Update Quick View
                    Options</button>
            </div>
            <div class="updateKeybinds twoColumn" *ngIf="largeAltarsAvailable">
                <button class="buttonStyled" (click)="openQuickViewOptions(updateAltarsAutoContent)">Select Altars State</button>
            </div>
            <div *ngIf="isMobile" class="updateKeybinds twoColumn">
                <button class="buttonStyled" (click)="openKeybinds(overlayNotificationsContent)">Update Overlay
                    Notifications</button>
            </div>
            <div *ngIf="isMobile" class="updateKeybinds twoColumn">
                <button class="buttonStyled" (click)="openKeybinds(gameLogContent)">Update Game Log</button>
            </div>
        </div>
        <br/>
        <div>
            <span class="s4Heading smallCaps bold">Advanced Settings</span>
            <br/>
            <div>
                <div class="twoColumn">
                    <span class="smallCaps bold">Offline Loading Time</span>
                    <br />
                    <mat-button-toggle-group [(ngModel)]="loadingTime" aria-label="Offline Loading Time"
                        (change)="setLoadingTime()">                        
                        <mat-button-toggle customToolTip [contentTemplate]="averageLoadingTimePopover" [tooltipDirection] = "tooltipDirection"
                            [value]="utilityService.averageActiveTimeLimit">1 HR</mat-button-toggle>
                        <mat-button-toggle customToolTip [contentTemplate]="highLoadingTimePopover" [tooltipDirection] = "tooltipDirection"
                            [value]="utilityService.highActiveTimeLimit">2 HR</mat-button-toggle>
                        <mat-button-toggle customToolTip [contentTemplate]="veryHighLoadingTimePopover" [tooltipDirection] = "tooltipDirection"
                            [value]="utilityService.veryHighActiveTimeLimit">4 HR</mat-button-toggle>
                            <mat-button-toggle customToolTip [contentTemplate]="extremelyHighLoadingTimePopover" [tooltipDirection] = "tooltipDirection"
                            [value]="utilityService.extremelyHighActiveTimeLimit">8 HR</mat-button-toggle>  
                            <mat-button-toggle customToolTip [contentTemplate]="maximumLoadingTimePopover" [tooltipDirection] = "tooltipDirection"
                            [value]="utilityService.maximumActiveTimeLimit">24 HR</mat-button-toggle>
                    </mat-button-toggle-group>
                </div>
                <div class="twoColumn">
                    <span class="smallCaps bold">Loading Accuracy</span>
                    <br />
                    <mat-button-toggle-group [(ngModel)]="loadingAccuracy" aria-label="Loading Accuracy"
                        (change)="setLoadingAccuracy()">
                        <mat-button-toggle customToolTip [contentTemplate]="lowLoadingAccuracyPopover" [tooltipDirection] = "tooltipDirection"
                            [value]="utilityService.lowLoadingAccuracy">Low</mat-button-toggle>
                        <mat-button-toggle customToolTip [contentTemplate]="averageLoadingAccuracyPopover" [tooltipDirection] = "tooltipDirection"
                            [value]="utilityService.averageLoadingAccuracy">Average</mat-button-toggle>
                        <mat-button-toggle customToolTip [contentTemplate]="highLoadingAccuracyPopover" [tooltipDirection] = "tooltipDirection"
                            [value]="utilityService.highLoadingAccuracy">High</mat-button-toggle>
                    </mat-button-toggle-group>
                </div>
            </div>
            <br/>
            <div>
                <span class="smallCaps bold">Performance</span>
                <br />
                <mat-button-toggle-group [(ngModel)]="fps" aria-label="Fps" (change)="setFps()">
                    <mat-button-toggle customToolTip [contentTemplate]="lowFpsPopover" [tooltipDirection] = "tooltipDirection"
                        [value]="utilityService.lowFps">Low</mat-button-toggle>
                    <mat-button-toggle customToolTip [contentTemplate]="averageFpsPopover" [tooltipDirection] = "tooltipDirection"
                        [value]="utilityService.averageFps">Average</mat-button-toggle>
                    <mat-button-toggle customToolTip [contentTemplate]="highFpsPopover" [tooltipDirection] = "tooltipDirection"
                        [value]="utilityService.highFps">High</mat-button-toggle>
                </mat-button-toggle-group>
            </div>
        </div>
    </div>
    <div class="saveLoad">
        <span class="s4Heading smallCaps bold">Save/Load</span>
        <br />
        <br />
        <div class="importExportDiv">
            <textarea *ngIf="!isMobile" (focus)="inTextbox()" (blur)="outOfTextbox()" id="importExport" name="importExport" rows="10"
                [(ngModel)]="importExportValue"></textarea>
                <textarea *ngIf="isMobile" (focus)="inTextbox()" (blur)="outOfTextbox()" id="importExport" name="importExport" rows="5"
                [(ngModel)]="importExportValue"></textarea>
            <div class="importExportButtons">
                <button class="buttonStyled" (click)="LoadGame()">
                    Import
                </button>
                <button class="buttonStyled" (click)="SaveGame()">
                    Export
                </button>
            </div>
            <br />
            <div class="importExportButtons">
                <div>
                    <button class="buttonStyled" (click)="LoadGameFromFile()">
                        Import from File
                    </button>
                    <input type='file' class="spaced" id="fileUpload" (change)="fileChanged($event)">
                </div>
                <button class="buttonStyled" (click)="SaveGameToFile()">
                    Export to File
                </button>
            </div>
        </div>
        <br />
        <br />
        <div class="codeRedemptionDiv">
            <span class="s4Heading smallCaps bold">Code Redemption</span>
            <br />
            <br />
            <div class="codeRedemption">
                <label for="codeRedemptionText">Code: </label>
                <input (focus)="inTextbox()" (blur)="outOfTextbox()" id="codeRedemptionText" type="text"
                    class="spaced codeRedemptionInput" [(ngModel)]="enteredRedemptionCode">
                <button class="screenMarginLeft buttonStyled" (click)="enterRedemptionCode()">
                    Enter
                </button>
            </div>
            <br />
        </div>
        <br/>
        <br/>
        <button class="buttonStyled" (click)="resetGame()">
            Reset Game
        </button>
    </div>
</div>

<ng-template #keybindContent>
    <div>
        <app-update-keybinds-view></app-update-keybinds-view>
    </div>
</ng-template>

<ng-template #gameLogContent>
    <div>
        <app-game-log-editor></app-game-log-editor>
    </div>
</ng-template>

<ng-template #quickViewOptionsContent>
    <div>
        <app-quick-view-options></app-quick-view-options>
    </div>
</ng-template>

<ng-template #updateAltarsAutoContent>
    <div>
        <app-update-altar-auto></app-update-altar-auto>
    </div>
</ng-template>

<ng-template #overlayNotificationsContent>
    <div>
        <app-overlay-notification-options></app-overlay-notification-options>
    </div>
</ng-template>

<ng-template #storyStylePausePopover>
    <div>
        Pause story scenes when they come up. To advance, press the continue button.
    </div>
</ng-template>

<ng-template #lowFpsPopover>
    <div>
        Run the game on low performance mode. This removes most animations and replaces them with text.
    </div>
</ng-template>

<ng-template #averageFpsPopover>
    <div>
        Run the game on average performance mode. This runs the game at 30 FPS.
    </div>
</ng-template>

<ng-template #highFpsPopover>
    <div>
        Run the game on high performance mode. This runs the game at 60 FPS.
    </div>
</ng-template>

<ng-template #verboseModePopover>
    <div>
        Include additional text information in tooltips, such as if abilities are running in Auto/Manual mode.
    </div>
</ng-template>

<ng-template #showAbilityCooldownPercentsPopover>
    <div>
        Uncheck this to turn off the ability % numbers underneath the image if all of the numbers are overwhelming.
    </div>
</ng-template>

<ng-template #abilityFlashPopover>
    <div>
        When using an ability or auto attack when in low performance mode, it will flash to indicate it has been used. Disable this to disable the flash.
    </div>
</ng-template>

<ng-template #lowLoadingTimePopover>
    <div>
        Automate the game for up to 30 minutes of away time.
    </div>
</ng-template>

<ng-template #averageLoadingTimePopover>
    <div>
        Automate the game for up to 60 minutes of away time.
    </div>
</ng-template>

<ng-template #highLoadingTimePopover>
    <div>
        Automate the game for up to 120 minutes of away time.
    </div>
</ng-template>

<ng-template #veryHighLoadingTimePopover>
    <div>
        Automate the game for up to 240 minutes of away time.
    </div>
</ng-template>

<ng-template #extremelyHighLoadingTimePopover>
    <div>
        Automate the game for up to 480 minutes of away time.
    </div>
</ng-template>

<ng-template #maximumLoadingTimePopover>
    <div>
        Automate the game for up to 1440 minutes of away time. <b>Loading times will be long!</b>
    </div>
</ng-template>

<ng-template #lowLoadingAccuracyPopover>
    <div>
        Run the game in 10 second batches during offline time to catch up. This will reduce loading time as well as accuracy.
    </div>
</ng-template>

<ng-template #averageLoadingAccuracyPopover>
    <div>
        Run the game in 5 second batches during offline time to catch up.
    </div>
</ng-template>

<ng-template #highLoadingAccuracyPopover>
    <div>
        Run the game in 2 second batches during offline time to catch up. This will increase
        accuracy as well as loading time.
    </div>
</ng-template>

<ng-template #bigNumberPopover>
    <div>
        Show a unique color for each big number modifier (K, B, T, etc) so that you can quickly identify it.
    </div>
</ng-template>

<ng-template #showPauseMessagePopover>
    <div>
        Show an alert message in the middle of the screen when the game is paused.
    </div>
</ng-template>

<ng-template #confirmationBox>
    <app-confirmation-box [cancelOptionAvailable]="false" [confirmationText]="confirmationText"></app-confirmation-box>
</ng-template>